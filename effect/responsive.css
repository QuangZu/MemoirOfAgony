/* ============================================
   RESPONSIVE UI FOR MOBILE DEVICES
   Forces landscape orientation on phones
   ============================================ */

/* Detect portrait mode on mobile devices */
@media screen and (max-width: 768px) and (orientation: portrait) {
    /* Rotate entire page to landscape */
    html, body {
        width: 100vh;
        height: 100vw;
        overflow: hidden;
        position: fixed;
        top: 0;
        left: 0;
    }
    
    body {
        transform: rotate(90deg);
        transform-origin: left top;
        position: absolute;
        top: 100%;
        left: 0;
    }
    
    /* Show rotation message overlay */
    body::before {
        content: 'Please rotate your device to landscape mode for the best experience';
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotate(-90deg);
        background: rgba(0, 0, 0, 0.95);
        color: #ff0000;
        padding: 30px 40px;
        border: 2px solid #ff0000;
        font-family: 'Barlow', sans-serif;
        font-size: 1.2rem;
        text-align: center;
        z-index: 999999;
        width: 80vw;
        max-width: 400px;
        box-shadow: 
            0 0 20px rgba(255, 0, 0, 0.5),
            inset 0 0 20px rgba(255, 0, 0, 0.2);
        animation: rotateMessagePulse 2s ease-in-out infinite;
    }
    
    @keyframes rotateMessagePulse {
        0%, 100% {
            box-shadow: 
                0 0 20px rgba(255, 0, 0, 0.5),
                inset 0 0 20px rgba(255, 0, 0, 0.2);
        }
        50% {
            box-shadow: 
                0 0 40px rgba(255, 0, 0, 0.8),
                inset 0 0 30px rgba(255, 0, 0, 0.4);
        }
    }
}

/* Landscape mode optimizations for mobile */
@media screen and (max-width: 900px) and (orientation: landscape) {
    /* Ensure content fits properly */
    html, body {
        width: 100vw;
        height: 100vh;
        overflow: hidden;
    }
    
    /* Scale down text slightly for smaller screens */
    body {
        font-size: 14px;
    }
    
    /* Adjust button sizes for touch */
    button, .nav-btn, .choice-btn {
        min-height: 44px;
        min-width: 44px;
        padding: 12px 20px;
        font-size: 0.9rem;
    }
    
    /* Optimize video controls */
    video {
        max-width: 100vw;
        max-height: 100vh;
        object-fit: contain;
    }
    
    /* Ensure navigation is accessible */
    .nav-menu {
        gap: 15px;
        font-size: 0.55rem;
    }
    
    /* Scale down logos */
    .logo-container img {
        width: 50px;
    }
}

/* Extra small phones (portrait locked) */
@media screen and (max-width: 480px) and (orientation: landscape) {
    body {
        font-size: 12px;
    }
    
    button, .nav-btn, .choice-btn {
        font-size: 0.8rem;
        padding: 10px 15px;
    }
    
    .nav-menu {
        gap: 10px;
        font-size: 0.5rem;
    }
    
    .logo-container img {
        width: 40px;
    }
}

/* Tablet optimizations (larger than phones) */
@media screen and (min-width: 769px) and (max-width: 1024px) {
    /* Slight optimizations for tablets */
    body {
        font-size: 15px;
    }
    
    button, .choice-btn {
        font-size: 1rem;
        padding: 15px 25px;
    }
}

/* Touch-friendly interactions for all mobile devices */
@media (hover: none) and (pointer: coarse) {
    /* Remove hover effects on touch devices */
    * {
        -webkit-tap-highlight-color: rgba(255, 0, 0, 0.2);
    }
    
    /* Ensure all interactive elements are touch-friendly */
    a, button, input, select, textarea, [role="button"] {
        cursor: pointer;
        touch-action: manipulation;
    }
    
    /* Prevent double-tap zoom */
    button, a {
        touch-action: manipulation;
    }
    
    /* Increase spacing for better touch targets */
    .choice-btn {
        padding: 20px 25px;
    }
}

/* High DPI displays (Retina) */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Ensure crisp text rendering */
    body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* Accessibility: Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Safe area insets for notched devices (iPhone X, etc.) */
@supports (padding: max(0px)) {
    body {
        padding-left: max(0px, env(safe-area-inset-left));
        padding-right: max(0px, env(safe-area-inset-right));
        padding-top: max(0px, env(safe-area-inset-top));
        padding-bottom: max(0px, env(safe-area-inset-bottom));
    }
}
